\documentclass[a4paper]{article}
% generated by Docutils <https://docutils.sourceforge.io/>
% rubber: set program xelatex
\usepackage{fontspec}
% \defaultfontfeatures{Scale=MatchLowercase}
% straight double quotes (defined T1 but missing in TU):
\ifdefined \UnicodeEncodingName
  \DeclareTextCommand{\textquotedbl}{\UnicodeEncodingName}{%
    {\addfontfeatures{RawFeature=-tlig,Mapping=}\char34}}%
\fi
\usepackage{ifthen}
\usepackage{alltt}
\setcounter{secnumdepth}{0}

%%% Custom LaTeX preamble

\setmainfont{Linux Libertine O}
\setsansfont{Linux Biolinum O}
\setmonofont[Scale=MatchLowercase]{Fira Code}

%%% User specified packages and stylesheets
\usepackage{alectryon}
\usepackage{pygments}

%%% Fallback definitions for Docutils-specific commands

% class handling for environments (block-level elements)
% \begin{DUclass}{spam} tries \DUCLASSspam and
% \end{DUclass}{spam} tries \endDUCLASSspam
\ifx\DUclass\undefined % poor man's "provideenvironment"
 \newenvironment{DUclass}[1]%
  {% "#1" does not work in end-part of environment.
   \def\DocutilsClassFunctionName{DUCLASS#1}
     \csname \DocutilsClassFunctionName \endcsname}%
  {\csname end\DocutilsClassFunctionName \endcsname}%
\fi

% custom inline roles: \DUrole{#1}{#2} tries \DUrole#1{#2}
\providecommand*{\DUrole}[2]{%
  \ifcsname DUrole#1\endcsname%
    \csname DUrole#1\endcsname{#2}%
  \else%
    #2%
  \fi%
}
% hyperlinks:
\ifthenelse{\isundefined{\hypersetup}}{
  \usepackage[colorlinks=true,linkcolor=blue,urlcolor=blue]{hyperref}
  \usepackage{bookmark}
  \urlstyle{same} % normal text font (alternatives: tt, rm, sf)
}{}
\hypersetup{
  pdftitle={Corner cases},
}

\title{Corner cases%
  \label{corner-cases}}
\author{}
\date{}

%%% Body
\begin{document}
\maketitle

To compile:

\begin{quote}
\begin{alltt}
alectryon --stdin-filename corner_cases.rst --frontend rst \textbackslash{}
  -o corner_cases.html - < corner_cases.rst
    # Coq → HTML; produces ‘corner_cases.html’
alectryon corner_cases.rst -o corner_cases.xe.tex \textbackslash{}
  --latex-dialect xelatex
    # Coq → LaTeX; produces ‘corner_cases.xe.tex’
\end{alltt}
\end{quote}


\section{Goal names%
  \label{goal-names}%
}

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Goal}~\PY{k+kt}{True}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{k+kt}{True}~\PY{o}{/\PYZbs{}}~\PY{k+kt}{True}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{k+kt}{True}~\PY{o}{/\PYZbs{}}~\PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{n+nb}{intros}\PY{o}{;}~\PY{n+nb}{refine}~\PY{o}{(}\PY{n}{conj}~\PY{o}{?[}\PY{n}{G1}\PY{o}{]}~\PY{o}{?[}\PY{n}{G2}\PY{o}{]).}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{H}{\PY{k+kt}{True}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{\Al{gid}{G1}}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{H}{\PY{k+kt}{True}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{\Al{gid}{G2}}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{k+kt}{True}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{o}{[}\PY{n}{G1}\PY{o}{]:}~\PY{n+nb+bp}{exact}~\PY{n}{I}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{H}{\PY{k+kt}{True}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{\Al{gid}{G2}}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{o}{[}\PY{n}{G2}\PY{o}{]:}~\PY{n+nb+bp}{exact}~\PY{n}{I}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Qed}\PY{o}{.}
    \end{\al{input}}
  \end{\al{sentence}}
\end{alectryon}


\section{Self-reference%
  \label{self-reference}%
}

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Definition}~\PY{n+nf}{a}~\PY{o}{:=}~\PY{l+m+mi}{1}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Check}~\PY{n}{corner\PYZus{}cases}\PY{o}{.}\PY{n}{a}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{messages}}
        \begin{\al{message}}
          \PY{n}{a}\Al{nl}
          ~~~~~\PY{o}{:}~\PY{n}{nat}
        \end{\al{message}}
      \end{\al{messages}}
    \end{\al{output}}
  \end{\al{sentence}}
\end{alectryon}


\section{Blanks at beginning of snippet%
  \label{blanks-at-beginning-of-snippet}%
}

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Goal}~\PY{k+kt}{True}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
\end{alectryon}

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{n+nb+bp}{exact}~\PY{n}{I}\PY{o}{.}~
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Qed}\PY{o}{.}
    \end{\al{input}}
  \end{\al{sentence}}
\end{alectryon}


\section{Blanks around sentences%
  \label{blanks-around-sentences}%
}

Bubble: \DUrole{alectryon-bubble}{}

\begin{DUclass}{alectryon-container}

\begin{alectryon}
  \begin{\al{txt}}
    \PY{c}{(*~xyz~*)}
  \end{\al{txt}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~\PY{k+kn}{Goal}~\PY{k+kt}{True}~\PY{o}{/\PYZbs{}}~\PY{k+kt}{True}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}~\PY{o}{/\PYZbs{}}~\PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{o}{\PYZhy{}}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}~\PY{o}{/\PYZbs{}}~\PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kp}{idtac}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}~\PY{o}{/\PYZbs{}}~\PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{n+nb}{pose}~\PY{o}{(}\PY{n}{a}~\PY{o}{:=}~\PY{l+m+mi}{1}\PY{o}{).}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}[\Al{anchor}{corner-cases-rst-s-pose-h-a-body-0}\PY{l+m+mi}{1}\Al{mrefmarker}{1}]{a}{\Al{anchor}{corner-cases-rst-s-pose-h-a-0}\Al{anchor}{corner-cases-rst-s-pose-h-a-type-0}\PY{n}{nat}\Al{mrefmarker}{2}\Al{mrefmarker}{3}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}~\PY{o}{/\PYZbs{}}~\PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{txt}}
    ~~~~\PY{c}{(*~xyz~*)}
  \end{\al{txt}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~\PY{n+nb}{split}\PY{o}{.}~~\PY{c}{(*~xyz~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}[\PY{l+m+mi}{1}]{a}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}[\PY{l+m+mi}{1}]{a}{\PY{n}{nat}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{k+kt}{True}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{o}{+}~\PY{c}{(*~xyz~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}[\PY{l+m+mi}{1}]{a}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kp}{idtac}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}[\PY{l+m+mi}{1}]{a}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~~~\PY{k+kp}{idtac}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}[\PY{l+m+mi}{1}]{a}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{txt}}
    ~\PY{c}{(*~x}\Al{nl}
    \PY{c}{~~~~~~yz~*)}\Al{nl}
  \end{\al{txt}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~~~\PY{n+nb}{split}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{o}{+}~\PY{c}{(*~xyz~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}[\PY{l+m+mi}{1}]{a}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{o}{\PYZob{}}~\PY{c}{(*~xyz~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}[\PY{l+m+mi}{1}]{a}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k+kt}{True}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{n+nb}{split}\PY{o}{.}~
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{o}{\PYZcb{}}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Qed}\PY{o}{.}~\PY{c}{(*~xyz~*)}
    \end{\al{input}}
  \end{\al{sentence}}
\end{alectryon}
\end{DUclass}


\section{References%
  \label{references}%
}

\hyperref[corner-cases-rst-s-pose-h-a-body-0]{1}, \hyperref[corner-cases-rst-s-pose-h-a-type-0]{2}, \hyperref[corner-cases-rst-s-pose-h-a-0]{3}.

\end{document}
