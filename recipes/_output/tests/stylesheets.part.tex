\documentclass[a4paper]{article}
% generated by Docutils <https://docutils.sourceforge.io/>
\usepackage{cmap} % fix search and cut-and-paste in Acrobat
\usepackage{ifthen}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{alltt}
\usepackage{textcomp} % text symbol macros

%%% Custom LaTeX preamble
% PDF Standard Fonts
\usepackage{mathptmx} % Times
\usepackage[scaled=.90]{helvet}
\usepackage{courier}

%%% User specified packages and stylesheets
\makeatletter
\makeatletter
\makeatother

\makeatother
\makeatletter
% Pygments stylesheet generated by Alectryon (style=emacs)
\makeatletter
\makeatother

\makeatother


%%% Fallback definitions for Docutils-specific commands

% hyperlinks:
\ifthenelse{\isundefined{\hypersetup}}{
  \usepackage[colorlinks=true,linkcolor=blue,urlcolor=blue]{hyperref}
  \usepackage{bookmark}
  \urlstyle{same} % normal text font (alternatives: tt, rm, sf)
}{}
\hypersetup{
  pdftitle={Stylesheets and Pygments stylesheets},
}

%%% Body
\begin{document}
\title{Stylesheets and Pygments stylesheets%
  \label{stylesheets-and-pygments-stylesheets}}
\author{}
\date{}
\maketitle

To compile:

\begin{quote}
\begin{alltt}
$ DOCUTILSCONFIG=tests/stylesheets.docutils.conf \textbackslash{}
    alectryon stylesheets.v -{}-pygments-style emacs -o - \textbackslash{}
    | sed -r '/^ *<style type="text.css">/,/^ *<.style>/ \{ /^ *<style |<.style>|Alectryon/b; d\}' \textbackslash{}
    > stylesheets.html
  # reST → HTML; produces ‘stylesheets.html’

$ DOCUTILSCONFIG=tests/stylesheets.docutils.conf \textbackslash{}
    alectryon stylesheets.v -{}-pygments-style emacs -{}-backend latex -o - \textbackslash{}
    | sed -r '/^% embedded stylesheet/,/^\textbackslash{}\textbackslash{}makeatother/ \{ /^\textbackslash{}\textbackslash{}makeat|Alectryon/b; d\}' \textbackslash{}
    > stylesheets.part.tex
  # reST → LaTeX; produces ‘stylesheets.part.tex’
\end{alltt}
\end{quote}

\begin{alectryon}
  % Generator: Alectryon
  \sep
  \begin{sentence}
    \begin{input}
      \PY{k+kn}{Print}~Nat\PY{o}{.}add\PY{o}{.}
    \end{input}
    \sep
    \begin{output}
      \begin{messages}
        \begin{message}
          Nat\PY{o}{.}add~\PY{o}{=}\nl
          \PY{k+kr}{fix}~add~\PY{o}{(}n~m~\PY{o}{:}~nat\PY{o}{)}~\PY{o}{\PYZob{}}\PY{k+kr}{struct}~n\PY{o}{\PYZcb{}}~\PY{o}{:}~nat~\PY{o}{:=}\nl
          ~~\PY{k+kr}{match}~n~\PY{k+kr}{with}\nl
          ~~\PY{o}{|}~\PY{l+m+mi}{0}~\PY{o}{=\PYZgt{}}~m\nl
          ~~\PY{o}{|}~S~p~\PY{o}{=\PYZgt{}}~S~\PY{o}{(}add~p~m\PY{o}{)}\nl
          ~~\PY{k+kr}{end}\nl
          ~~~~~\PY{o}{:}~nat~\PY{o}{\PYZhy{}\PYZgt{}}~nat~\PY{o}{\PYZhy{}\PYZgt{}}~nat\nl
          \nl
          \PY{k+kn}{Arguments}~Nat\PY{o}{.}add~\PY{o}{(}n~m\PY{o}{)\PYZpc{}}nat\PYZus{}scope
        \end{message}
      \end{messages}
    \end{output}
  \end{sentence}
\end{alectryon}

\end{document}
