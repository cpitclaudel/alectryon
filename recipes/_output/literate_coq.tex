\documentclass[a4paper]{article}
% generated by Docutils <https://docutils.sourceforge.io/>
\usepackage{cmap} % fix search and cut-and-paste in Acrobat
\usepackage{ifthen}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{alltt}
\usepackage{color}
\setcounter{secnumdepth}{0}
\usepackage{textcomp} % text symbol macros

%%% Custom LaTeX preamble

\usepackage[margin=1in]{geometry}

%%% User specified packages and stylesheets
\usepackage{alectryon}
\usepackage{pygments}

%%% Fallback definitions for Docutils-specific commands

% basic code highlight:
\providecommand*\DUrolecomment[1]{\textcolor[rgb]{0.40,0.40,0.40}{#1}}
\providecommand*\DUroledeleted[1]{\textcolor[rgb]{0.40,0.40,0.40}{#1}}
\providecommand*\DUrolekeyword[1]{\textbf{#1}}
\providecommand*\DUrolestring[1]{\textit{#1}}

% custom inline roles: \DUrole{#1}{#2} tries \DUrole#1{#2}
\providecommand*{\DUrole}[2]{%
  \ifcsname DUrole#1\endcsname%
    \csname DUrole#1\endcsname{#2}%
  \else%
    #2%
  \fi%
}

% transition (break / fancybreak / anonymous section)
\providecommand*{\DUtransition}{%
  \hspace*{\fill}\hrulefill\hspace*{\fill}
  \vskip 0.5\baselineskip
}

% hyperlinks:
\ifthenelse{\isundefined{\hypersetup}}{
  \usepackage[colorlinks=true,linkcolor=blue,urlcolor=blue]{hyperref}
  \usepackage{bookmark}
  \urlstyle{same} % normal text font (alternatives: tt, rm, sf)
}{}
\hypersetup{
  pdftitle={Literate programming with Alectryon (Coq input)},
}

%%% Body
\begin{document}
\title{Literate programming with Alectryon (Coq input)%
  \label{literate-programming-with-alectryon-coq-input}}
\author{}
\date{}
\maketitle

Alectryon supports literate programs and documents (combinations of code and prose) written in Coq and reStructuredText.  Here is an example, written in Coq.  It can be converted to reST, HTML, or LaTeX using the following commands:

\begin{quote}
\begin{alltt}
alectryon literate_coq.v
    # Coq+reST → HTML;  produces ‘literate_coq.html’
$ DOCUTILSCONFIG=literate.docutils.conf alectryon \textbackslash{}
  literate_coq.v -{}-backend latex
    # Coq+reST → LaTeX; produces ‘literate_coq.tex’
alectryon literate_coq.v -{}-backend rst
    # Coq+reST → reST;  produces ‘literate_coq.v.rst’

$ cd ..; python -m alectryon.literate -{}-from coq -{}-to rst \textbackslash{}
    recipes/literate_coq.v > recipes/literate_coq.min.rst
  # Minimal Coq → reST; produces ‘literate_coq.min.rst’
$ cd ..; python -m alectryon.literate -{}-from coq -{}-to rst - \textbackslash{}
    < recipes/literate_coq.v > recipes/literate_coq.min.stdin.rst
  # Minimal Coq → reST; produces ‘literate_coq.min.stdin.rst’
\end{alltt}
\end{quote}

%___________________________________________________________________________
\DUtransition

Here's an \emph{inductive specification} of evenness:

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Inductive}~\PY{n+nf}{Even}~\PY{o}{:}~\PY{n}{nat}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{k+kt}{Prop}~\PY{o}{:=}\Al{nl}
      \PY{o}{|}~\PY{n}{EvenO}~\PY{o}{:}~\PY{n}{Even}~\PY{n}{O}\Al{nl}
      \PY{o}{|}~\PY{n}{EvenS}~\PY{o}{:}~\PY{k}{forall}~\PY{n+nv}{n}\PY{o}{,}~\PY{n}{Even}~\PY{n}{n}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)).}
    \end{\al{input}}
  \end{\al{sentence}}
\end{alectryon}

… and a corresponding decision procedure:

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Fixpoint}~\PY{n+nf}{even}~\PY{o}{(}\PY{n+nv}{n}\PY{o}{:}~\PY{n}{nat}\PY{o}{):}~\PY{n}{bool}~\PY{o}{:=}\Al{nl}
      ~~\PY{k}{match}~\PY{n}{n}~\PY{k}{with}\Al{nl}
      ~~\PY{o}{|}~\PY{l+m+mi}{0}~\PY{o}{=\PYZgt{}}~\PY{n}{true}\Al{nl}
      ~~\PY{o}{|}~\PY{l+m+mi}{1}~\PY{o}{=\PYZgt{}}~\PY{n}{false}\Al{nl}
      ~~\PY{o}{|}~\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=\PYZgt{}}~\PY{n}{even}~\PY{n}{n}\Al{nl}
      ~~\PY{k}{end}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{txt}}
    \Al{nl}
    \PY{c}{(*~Ensure~that~we~never~unfold~[even~(S~n)]~*)}\Al{nl}
  \end{\al{txt}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Arguments}~\PY{n}{even}~\PY{o}{:}~\PY{n+nb}{simpl}~\PY{n}{nomatch}\PY{o}{.}
    \end{\al{input}}
  \end{\al{sentence}}
\end{alectryon}

Can we prove it correct?

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Lemma}~\PY{n+nf}{even\PYZus{}Even}~\PY{o}{:}\Al{nl}
      ~~\PY{k}{forall}~\PY{n+nv}{n}\PY{o}{,}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Proof}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{n+nb}{induction}~\PY{n}{n}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{l+m+mi}{0}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{n}{\PY{n}{nat}}
              \Al{sep}
              \Al{hyp}{IHn}{\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{k+kp}{all}\PY{o}{:}~\PY{n+nb}{cbn}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{true}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{n}{\PY{n}{nat}}
              \Al{sep}
              \Al{hyp}{IHn}{\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{o}{\PYZhy{}}~\PY{c}{(*~n~←~0~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{true}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{n+nb}{split}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{true}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}\end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{Even}~\PY{l+m+mi}{0}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{true}~\PY{o}{=}~\PY{n}{true}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{k+kp}{all}\PY{o}{:}~\PY{n+nb}{constructor}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{o}{\PYZhy{}}~\PY{c}{(*~n~←~S~\PYZus{}~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{n}{\PY{n}{nat}}
            \Al{sep}
            \Al{hyp}{IHn}{\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{n+nb}{apply}~\PY{n}{IHn}\PY{o}{.}~\PY{c}{(*~stuck!~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{messages}}
        \begin{\al{message}}
          \PY{n}{In}~\PY{n}{environment}\Al{nl}
          \PY{n}{n}~\PY{o}{:}~\PY{n}{nat}\Al{nl}
          \PY{n}{IHn}~\PY{o}{:}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}\Al{nl}
          \PY{n}{Unable}~\PY{n}{to}~\PY{n+nb}{unify}~\PY{l+s+s2}{\PYZdq{}even~n~=~true~\PYZlt{}\PYZhy{}\PYZgt{}~Even~n\PYZdq{}}~\PY{k}{with}\Al{nl}
          ~\PY{l+s+s2}{\PYZdq{}even~(S~n)~=~true~\PYZlt{}\PYZhy{}\PYZgt{}~Even~(S~n)\PYZdq{}}\PY{o}{.}
        \end{\al{message}}
      \end{\al{messages}}
    \end{\al{output}}
  \end{\al{sentence}}
\end{alectryon}

The induction hypothesis doesn't apply — maybe we need to destruct \texttt{n}?

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{n+nb}{destruct}~\PY{n}{n}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{IHn}{\PY{n}{even}~\PY{l+m+mi}{0}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{l+m+mi}{1}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{1}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{n}{\PY{n}{nat}}
              \Al{sep}
              \Al{hyp}{IHn}{\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{o}{+}~\PY{c}{(*~n~←~1~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{IHn}{\PY{n}{even}~\PY{l+m+mi}{0}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{l+m+mi}{1}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{1}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~~~\PY{n+nb}{split}\PY{o}{;}~\PY{n+nb}{inversion}~\PY{l+m+mi}{1}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{o}{+}~\PY{c}{(*~n~←~S~(S~\PYZus{})~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{n}{\PY{n}{nat}}
            \Al{sep}
            \Al{hyp}{IHn}{\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
\end{alectryon}

Stuck again!

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Abort}\PY{o}{.}
    \end{\al{input}}
  \end{\al{sentence}}
\end{alectryon}


\section{Strengthening the spec%
  \label{strengthening-the-spec}%
}

The usual approach is to strengthen the spec to work around the weakness of the inductive principle.

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Lemma}~\PY{n+nf}{even\PYZus{}Even}~\PY{o}{:}\Al{nl}
      ~~\PY{k}{forall}~\PY{n+nv}{n}\PY{o}{,}~\PY{o}{(}\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}\PY{o}{)}~\PY{o}{/\PYZbs{}}\Al{nl}
      ~~~~~~~\PY{o}{(}\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)).}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{o}{(}\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}\PY{o}{)}~\PY{o}{/\PYZbs{}}\Al{nl}
            \PY{o}{(}\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Proof}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{o}{(}\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}\PY{o}{)}~\PY{o}{/\PYZbs{}}\Al{nl}
            \PY{o}{(}\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{n+nb}{induction}~\PY{n}{n}\PY{o}{;}~\PY{n+nb}{cbn}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{o}{(}\PY{n}{true}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}\PY{o}{)}~\PY{o}{/\PYZbs{}}~\PY{o}{(}\PY{n}{false}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{1}\PY{o}{)}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{n}{\PY{n}{nat}}
              \Al{sep}
              \Al{hyp}{IHn}{\PY{o}{(}\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}\PY{o}{)}~\PY{o}{/\PYZbs{}}~\PY{o}{(}\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{o}{(}\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}~\PY{o}{/\PYZbs{}}\Al{nl}
              \PY{o}{(}\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)))}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{o}{\PYZhy{}}~\PY{c}{(*~n~←~0~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{o}{(}\PY{n}{true}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}\PY{o}{)}~\PY{o}{/\PYZbs{}}~\PY{o}{(}\PY{n}{false}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{1}\PY{o}{)}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{k+kp}{repeat}~\PY{n+nb}{split}\PY{o}{;}~\PY{n+nb}{cbn}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{true}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}\end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{false}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{1}
            \end{\al{conclusion}}
          \end{\al{goal}}
          \Al{sep}
          \begin{\al{goal}}
            \begin{\al{hyps}}\end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{Even}~\PY{l+m+mi}{1}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{false}~\PY{o}{=}~\PY{n}{true}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{k+kp}{all}\PY{o}{:}~\PY{k+kp}{try}~\PY{n+nb}{constructor}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}\end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{false}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{1}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}\end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{Even}~\PY{l+m+mi}{1}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{false}~\PY{o}{=}~\PY{n}{true}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{k+kp}{all}\PY{o}{:}~\PY{n+nb}{inversion}~\PY{l+m+mi}{1}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{o}{\PYZhy{}}~\PY{c}{(*~n~←~S~\PYZus{}~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{n}{\PY{n}{nat}}
            \Al{sep}
            \Al{hyp}{IHn}{\PY{o}{(}\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}\PY{o}{)}~\PY{o}{/\PYZbs{}}~\PY{o}{(}\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{o}{(}\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}~\PY{o}{/\PYZbs{}}\Al{nl}
            \PY{o}{(}\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)))}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{n+nb}{destruct}~\PY{n}{IHn}~\PY{k}{as}~\PY{o}{((}\PY{n}{Hne}~\PY{o}{\PYZam{}}~\PY{n}{HnE}\PY{o}{)}~\PY{o}{\PYZam{}}~\PY{o}{(}\PY{n}{HSne}~\PY{o}{\PYZam{}}~\PY{n}{HSnE}\PY{o}{)).}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{n}{\PY{n}{nat}}
            \Al{sep}
            \Al{hyp}{Hne}{\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \Al{sep}
            \Al{hyp}{HnE}{\PY{n}{Even}~\PY{n}{n}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}}
            \Al{sep}
            \Al{hyp}{HSne}{\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}}
            \Al{sep}
            \Al{hyp}{HSnE}{\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{o}{(}\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}~\PY{o}{/\PYZbs{}}\Al{nl}
            \PY{o}{(}\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)))}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{k+kp}{repeat}~\PY{n+nb}{split}\PY{o}{;}~\PY{n+nb}{cbn}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{n}{\PY{n}{nat}}
            \Al{sep}
            \Al{hyp}{Hne}{\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \Al{sep}
            \Al{hyp}{HnE}{\PY{n}{Even}~\PY{n}{n}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}}
            \Al{sep}
            \Al{hyp}{HSne}{\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}}
            \Al{sep}
            \Al{hyp}{HSnE}{\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{n}{\PY{n}{nat}}
              \Al{sep}
              \Al{hyp}{Hne}{\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
              \Al{sep}
              \Al{hyp}{HnE}{\PY{n}{Even}~\PY{n}{n}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}}
              \Al{sep}
              \Al{hyp}{HSne}{\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}}
              \Al{sep}
              \Al{hyp}{HSnE}{\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}
            \end{\al{conclusion}}
          \end{\al{goal}}
          \Al{sep}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{n}{\PY{n}{nat}}
              \Al{sep}
              \Al{hyp}{Hne}{\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
              \Al{sep}
              \Al{hyp}{HnE}{\PY{n}{Even}~\PY{n}{n}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}}
              \Al{sep}
              \Al{hyp}{HSne}{\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}}
              \Al{sep}
              \Al{hyp}{HSnE}{\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}
            \end{\al{conclusion}}
          \end{\al{goal}}
          \Al{sep}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{n}{\PY{n}{nat}}
              \Al{sep}
              \Al{hyp}{Hne}{\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
              \Al{sep}
              \Al{hyp}{HnE}{\PY{n}{Even}~\PY{n}{n}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}}
              \Al{sep}
              \Al{hyp}{HSne}{\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}}
              \Al{sep}
              \Al{hyp}{HSnE}{\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{k+kp}{all}\PY{o}{:}~\PY{n+nb}{eauto~using}~\PY{n}{EvenS}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{n}{\PY{n}{nat}}
            \Al{sep}
            \Al{hyp}{Hne}{\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \Al{sep}
            \Al{hyp}{HnE}{\PY{n}{Even}~\PY{n}{n}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}}
            \Al{sep}
            \Al{hyp}{HSne}{\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}}
            \Al{sep}
            \Al{hyp}{HSnE}{\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{)}~\PY{o}{=}~\PY{n}{true}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{n+nb}{inversion}~\PY{l+m+mi}{1}\PY{o}{;}~\PY{n+nb}{eauto}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Qed}\PY{o}{.}
    \end{\al{input}}
  \end{\al{sentence}}
\end{alectryon}


\section{Writing a fixpoint%
  \label{writing-a-fixpoint}%
}

But writing a fixpoint (either with the \texttt{\DUrole{code}{\DUrole{highlight}{\DUrole{coq}{\DUrole{kn}{Fixpoint}}}}} command or with the \texttt{\DUrole{code}{\DUrole{highlight}{\DUrole{coq}{\DUrole{k}{fix}}}}} tactic) is much nicer:

\begin{alectryon}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Fixpoint}~\PY{n+nf}{even\PYZus{}Even\PYZus{}fp}~\PY{o}{(}\PY{n+nv}{n}\PY{o}{:}~\PY{n}{nat}\PY{o}{):}\Al{nl}
      ~~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \Al{sep}
            \Al{hyp}{n}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Proof}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \Al{sep}
            \Al{hyp}{n}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{n+nb}{destruct}~\PY{n}{n}~\PY{k}{as}~\PY{o}{[}~\PY{o}{|}~\PY{o}{[}~\PY{o}{|}~\PY{n}{n}~\PY{o}{]}~\PY{o}{];}~\PY{n+nb}{cbn}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{true}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
              \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{false}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{1}
            \end{\al{conclusion}}
          \end{\al{goal}}
          \Al{sep}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
              \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
              \Al{sep}
              \Al{hyp}{n}{\PY{n}{nat}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{o}{\PYZhy{}}~\PY{c}{(*~n~←~0~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{true}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{0}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{k+kp}{repeat}~\PY{n+nb}{constructor}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{o}{\PYZhy{}}~\PY{c}{(*~n~←~1~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{false}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{l+m+mi}{1}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{n+nb}{split}\PY{o}{;}~\PY{n+nb}{inversion}~\PY{l+m+mi}{1}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~\PY{o}{\PYZhy{}}~\PY{c}{(*~n~←~S~(S~\PYZus{})~*)}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \Al{sep}
            \Al{hyp}{n}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{n+nb}{split}\PY{o}{.}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \Al{sep}
            \Al{hyp}{n}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}
          \end{\al{conclusion}}
        \end{\al{goal}}
        \Al{sep}
        \begin{\al{extragoals}}
          \begin{\al{goal}}
            \begin{\al{hyps}}
              \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
              \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
              \Al{sep}
              \Al{hyp}{n}{\PY{n}{nat}}
            \end{\al{hyps}}
            \Al{sep}
            \Al{infrule}{}
            \Al{sep}
            \begin{\al{conclusion}}
              \PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}
            \end{\al{conclusion}}
          \end{\al{goal}}
        \end{\al{extragoals}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{o}{+}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \Al{sep}
            \Al{hyp}{n}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{n+nb}{constructor}\PY{o}{;}~\PY{n+nb}{apply}~\PY{n}{even\PYZus{}Even\PYZus{}fp}\PY{o}{;}~\PY{n+nb+bp}{assumption}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      ~~~~\PY{o}{+}
    \end{\al{input}}
    \Al{sep}
    \begin{\al{output}}
      \begin{\al{goals}}
        \begin{\al{goal}}
          \begin{\al{hyps}}
            \Al{hyp}{even\char`\_Even\char`\_fp}{\PY{k}{forall}~\PY{n+nv}{n}~\PY{o}{:}~\PY{n}{nat}\PY{o}{,}\Al{nl}
            \PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}~\PY{o}{\PYZlt{}\PYZhy{}\PYZgt{}}~\PY{n}{Even}~\PY{n}{n}}
            \Al{sep}
            \Al{hyp}{n}{\PY{n}{nat}}
          \end{\al{hyps}}
          \Al{sep}
          \Al{infrule}{}
          \Al{sep}
          \begin{\al{conclusion}}
            \PY{n}{Even}~\PY{o}{(}\PY{n}{S}~\PY{o}{(}\PY{n}{S}~\PY{n}{n}\PY{o}{))}~\PY{o}{\PYZhy{}\PYZgt{}}~\PY{n}{even}~\PY{n}{n}~\PY{o}{=}~\PY{n}{true}
          \end{\al{conclusion}}
        \end{\al{goal}}
      \end{\al{goals}}
    \end{\al{output}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{n+nb}{inversion}~\PY{l+m+mi}{1}\PY{o}{;}~\PY{n+nb}{apply}~\PY{n}{even\PYZus{}Even\PYZus{}fp}\PY{o}{;}~\PY{n+nb+bp}{assumption}\PY{o}{.}\Al{nl}
    \end{\al{input}}
  \end{\al{sentence}}
  \Al{sep}
  \begin{\al{sentence}}
    \begin{\al{input}}
      \PY{k+kn}{Qed}\PY{o}{.}
    \end{\al{input}}
  \end{\al{sentence}}
\end{alectryon}

\setlength{\emergencystretch}{4em}

Alectryon defined a \texttt{:coqid:} role to link to definitions in Coqdoc-generated documentation; for example:

\begin{quote}
Note that the standard library already contains a \href{https://coq.inria.fr/library/Coq.Init.Nat.html\#even}{boolean} \href{https://coq.inria.fr/library/Coq.Init.Nat.html\#even}{predicate} for \texttt{\DUrole{code}{\DUrole{highlight}{\DUrole{coq}{\DUrole{n}{even}}}}} (called \href{https://coq.inria.fr/library/Coq.Init.Nat.html\#even}{Coq.Init.Nat.even}, or \href{https://coq.inria.fr/library/Coq.Init.Nat.html\#even}{even} for short), as well as an \href{https://coq.inria.fr/library/Coq.Arith.PeanoNat.html\#Nat.Even}{inductive one} (called \href{https://coq.inria.fr/library/Coq.Arith.PeanoNat.html\#Nat.Even}{Nat.Even} in module \href{https://coq.inria.fr/library/Coq.Arith.PeanoNat.html\#}{Coq.Arith.PeanoNat}).
\end{quote}

If you have your own documentation, you can use a custom role to point to your own URL:

With this definition, for example, you can write \href{https://coq.inria.fr/library/Coq.Arith.PeanoNat.html\#Nat.Even}{Nat.Even} instead of \href{https://coq.inria.fr/library/Coq.Arith.PeanoNat.html\#Nat.Even}{Nat.Even}.

\end{document}
